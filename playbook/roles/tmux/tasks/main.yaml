---
- name: tmux is installed
  become: true
  ansible.builtin.apt:
    name: tmux
    state: latest

- name: plugins directory is present
  ansible.builtin.file:
    path: ~/.tmux/plugins
    state: directory

- name: tpm is present
  ansible.builtin.git:
    repo: https://github.com/tmux-plugins/tpm
    dest: ~/.tmux/plugins/tpm

- name: Config is present
  ansible.builtin.copy:
    src: tmux.conf
    dest: ~/.tmux.conf

- name: tmuxp is present
  become: true
  ansible.builtin.pip:
    name: tmuxp
    extra_args: --break-system-packages
    state: latest
